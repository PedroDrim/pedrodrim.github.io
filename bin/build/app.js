"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var express=require("express"),bodyParser=require("body-parser"),cookieParser=require("cookie-parser"),logger=require("morgan"),path=require("path"),helmet=require("helmet"),compression=require("compression"),favicon=require("serve-favicon"),errorHandler=require("errorhandler"),firebase=require("firebase"),cors=require("cors"),index_1=require("./routes/index"),busboy=require("connect-busboy"),Server=function(){function e(){this.app=express(),this.config(),this.routes(),this.api()}return e.getApplication=function(){return(new e).app},e.prototype.config=function(){this.app.use(bodyParser.urlencoded({extended:!0})),this.app.use(bodyParser.json()),this.app.use(logger("dev")),this.app.use(cookieParser()),this.app.use(busboy()),this.app.use(compression()),this.app.use(helmet()),this.app.use(cors()),this.app.use(favicon(path.join(__dirname,"public","favicon.ico"))),this.app.use(express.static(path.join(__dirname,"public"))),this.app.set("views",path.join(__dirname,"views")),this.app.set("view engine","ejs"),this.app.use(function(e,r,i,s){e.status=404,s(e)}),this.app.use(errorHandler());var e=this.normalizePort(process.env.PORT||"3000");this.app.set("port",e)},e.prototype.routes=function(){var e;e=express.Router(),new index_1.IndexRoute(e),this.app.use(e)},e.prototype.api=function(){firebase.initializeApp({apiKey:"AIzaSyDEIhI7OJHHIF1peZsLXMlKTtZc0lmaOto",authDomain:"pedrodrim-2c007.firebaseapp.com",databaseURL:"https://pedrodrim-2c007.firebaseio.com",projectId:"pedrodrim-2c007",storageBucket:"",messagingSenderId:"330192848678"})},e.prototype.normalizePort=function(e){var r=parseInt(e,10);return isNaN(r)?e:r>=0?r:void 0},e}();exports.Server=Server;